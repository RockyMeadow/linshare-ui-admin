<!-- Model selector -->
<div class="control-group pull-right"
     x-ng-show="state==='create'">
  <label class="control-label" for="modelSelector">
    {{'P_Domains-DomainPatterns_ModelSelectorLabel' | i18n}}
  </label>
  <div class="controls">
    <select id="modelSelector" name="modelSelector" class="input-xlarge" required
            x-ng-model="modelSelector"
            x-ng-options="model as model.identifier for model in models | orderBy:'identifier'">
    </select>
  </div>
</div>
<form class="form-horizontal" name="domainPatternForm" novalidate
      x-ls-form-submit="submit(domainPattern)"
      x-ls-form-attempt>
  <fieldset>
    <!-- Legend -->
    <div x-ng-switch="state">
      <div x-ng-switch-when="create">
        <legend>{{'P_Domains-DomainPatterns_CreationTitle' | i18n}}</legend>
        <!-- Identifier -->
        <div class="control-group"
             x-ng-class="{error: domainPatternForm.identifier.$invalid &&
              (domainPatternForm.identifier.$dirty || ls.domainPatternForm.attempted)}">
          <label class="control-label" for="identifier">
            {'P_Domains-DomainPatterns_IdentifierLabel' | i18n}}
          </label>
          <div class="controls">
            <input id="identifier" name="identifier" type="text" class="input-xlarge" required
                   x-ng-model="domainPattern.identifier">
          </div>
        </div>
      </div>
      <div x-ng-switch-when="edit">
        <legend>
          {{domainPattern.identifier}}
        </legend>
      </div>
      <!-- Description -->
      <div class="control-group">
        <label class="control-label" for="description">
          {{'P_Domains-DomainPatterns_DescriptionLabel' | i18n}}
        </label>
        <div class="controls">
          <textarea id="description" name="description" class="input-xxlarge"
                    x-ng-model="domainPattern.description">
          </textarea>
        </div>
      </div>
      <!-- Authentication -->
      <div class="control-group"
           x-ng-class="{error: domainPatternForm.authentication.$invalid &&
             (domainPatternForm.authentication.$dirty || ls.domainPatternForm.attempted)}">
        <label class="control-label" for="authentication">
          {{'P_Domains-DomainPatterns_AuthenticationLabel' | i18n}}
        </label>
        <div class="controls">
          <textarea id="authentication" name="authentication" class="input-xxlarge" required
                    x-ng-model="domainPattern.authCommand">
          </textarea>
          <p class="help-block">
            {{'P_Domains-DomainPatterns_AuthenticationHelp' | i18n}}
          </p>
        </div>
      </div>
      <!-- Search User -->
      <div class="control-group"
           x-ng-class="{error: domainPatternForm.searchUser.$invalid &&
             (domainPatternForm.searchUser.$dirty || ls.domainPatternForm.attempted)}">
        <label class="control-label" for="searchUser">
          {{'P_Domains-DomainPatterns_SearchUserLabel' | i18n}}
        </label>
        <div class="controls">
          <textarea id="searchUser" name="searchUser" class="input-xxlarge" required
            x-ng-model="domainPattern.searchUserCommand">
          </textarea>
          <p class="help-block">
            {{'P_Domains-DomainPatterns_SearchUserHelp' | i18n}}
          </p>
        </div>
      </div>
      <!-- Auto complete User using firstname, lastname and mail -->
      <div class="control-group"
           x-ng-class="{error: domainPatternForm.autocomplete1.$invalid &&
             (domainPatternForm.autocomplete1.$dirty || ls.domainPatternForm.attempted)}">
        <label class="control-label" for="autocomplete1">
          {{'P_Domains-DomainPatterns_AutoCompleteOnAllAttributesLabel' | i18n}}
        </label>
        <div class="controls">
          <textarea id="autocomplete1" name="autocomplete1" class="input-xxlarge" required
                    x-ng-model="domainPattern.autoCompleteCommandOnAllAttributes">
          </textarea>
          <p class="help-block">
            {{'P_Domains-DomainPatterns_AutoCompleteOnAllAttributesHelp' | i18n}}
          </p>
        </div>
      </div>
      <!-- Auto complete User using firstname and lastname -->
      <div class="control-group"
           x-ng-class="{error: domainPatternForm.autocomplete2.$invalid &&
             (domainPatternForm.autocomplete2.$dirty || ls.domainPatternForm.attempted)}">
        <label class="control-label" for="autocomplete2">
          {{'P_Domains-DomainPatterns_AutoCompleteOnFirstNameAndLastNameLabel' | i18n}}
        </label>
        <div class="controls">
          <textarea id="autocomplete2" name="autocomplete2" class="input-xxlarge" required
                    x-ng-model="domainPattern.autoCompleteCommandOnFirstAndLastName">
          </textarea>
          <p class="help-block">
            {{'P_Domains-DomainPatterns_AutoCompleteOnFirstNameAndLastNameLabel' | i18n}}
          </p>
        </div>
      </div>
      <!-- Attributes -->
      <div class="well" style="max-width: 600px; margin: 0 auto 10px;">
        <h4>{{'P_Domains-DomainPatterns_Attributes' | i18n}}</h4>

        <div class="control-group"
             x-ng-class="{error: domainPatternForm.email.$invalid &&
               (domainPatternForm.email.$dirty || ls.domainPatternForm.attempted)}">
          <label class="control-label" for="email">
            {{'P_Domains-DomainPatterns_EmailLabel' | i18n}}
          </label>
          <div class="controls">
            <input id="email" name="email" type="text" class="input-xlarge" required
                   x-ng-model="domainPattern.userMail">
            <p class="help-block">
              {{'P_Domains-DomainPatterns_EmailHelp' | i18n}}
            </p>
          </div>
        </div>
        <div class="control-group"
             x-ng-class="{error: domainPatternForm.firstName.$invalid &&
               (domainPatternForm.firstName.$dirty || ls.domainPatternForm.attempted)}">
          <label class="control-label" for="firstName">
            {{'P_Domains-DomainPatterns_FirstNameLabel' | i18n}}
          </label>
          <div class="controls">
            <input id="firstName" name="firstName" type="text" class="input-xlarge" required
                   x-ng-model="domainPattern.userFirstName">
            <p class="help-block">
              {{'P_Domains-DomainPatterns_FirstNameHelp' | i18n}}
            </p>
          </div>
        </div>
        <div class="control-group"
             x-ng-class="{error: domainPatternForm.lastName.$invalid &&
               (domainPatternForm.lastName.$dirty || ls.domainPatternForm.attempted)}">
          <label class="control-label" for="lastName">
            {{'P_Domains-DomainPatterns_LastNameLabel' | i18n}}
          </label>
          <div class="controls">
            <input id="lastName" name="lastName" type="text" class="input-xlarge" required
                   x-ng-model="domainPattern.userLastName">
            <p class="help-block">
              {{'P_Domains-DomainPatterns_LastNameHelp' | i18n}}
            </p>
          </div>
        </div>
        <div class="control-group"
             x-ng-class="{error: domainPatternForm.ldapUid.$invalid &&
               (domainPatternForm.ldapUid.$dirty || ls.domainPatternForm.attempted)}">
          <label class="control-label" for="ldapUid">
            {{'P_Domains-DomainPatterns_LdapUidLabel' | i18n}}
          </label>
          <div class="controls">
            <input id="ldapUid" name="ldapUid" type="text" class="input-xlarge" required
                   x-ng-model="domainPattern.ldapUid">
            <p class="help-block">
              {{'P_Domains-DomainPatterns_LdapUidHelp' | i18n}}
            </p>
          </div>
        </div>
        <div class="control-group"
             x-ng-class="{error: domainPatternForm.searchPageSize.$invalid &&
               (domainPatternForm.searchPageSize.$dirty || ls.domainPatternForm.attempted)}">
          <label class="control-label" for="searchPageSize">
            {{'P_Domains-DomainPatterns_SearchPageSizeLabel' | i18n}}
          </label>
          <div class="controls">
            <input id="searchPageSize" name="searchPageSize" type="text" class="input-xlarge" required
                   x-ng-model="domainPattern.searchPageSize">
            <p class="help-block">
              {{'P_Domains-DomainPatterns_SearchPageSizeHelp' | i18n}}
            </p>
          </div>
        </div>
        <div class="control-group"
             x-ng-class="{error: domainPatternForm.searchSizeLimit.$invalid &&
               (domainPatternForm.searchSizeLimit.$dirty || ls.domainPatternForm.attempted)}">
          <label class="control-label" for="searchSizeLimit">
            {{'P_Domains-DomainPatterns_SearchSizeLimitLabel' | i18n}}
          </label>
          <div class="controls">
            <input id="searchSizeLimit" name="searchSizeLimit" type="text" class="input-xlarge" required
                   x-ng-model="domainPattern.searchSizeLimit">
            <p class="help-block">
              {{'P_Domains-DomainPatterns_SearchSizeLimitHelp' | i18n}}
            </p>
          </div>
        </div>
        <div class="control-group"
             x-ng-class="{error: domainPatternForm.completionPageSize.$invalid &&
               (domainPatternForm.completionPageSize.$dirty || ls.domainPatternForm.attempted)}">
          <label class="control-label" for="completionPageSize">
            {{'P_Domains-DomainPatterns_CompletionPageSizeLabel' | i18n}}
          </label>
          <div class="controls">
            <input id="completionPageSize" name="completionPageSize" type="text"class=" input-xlarge" required
                   x-ng-model="domainPattern.completionPageSize">
            <p class="help-block">
              {{'P_Domains-DomainPatterns_CompletionPageSizeHelp' | i18n}}
            </p>
          </div>
        </div>
        <div class="control-group"
             x-ng-class="{error: domainPatternForm.completionSizeLimit.$invalid &&
               (domainPatternForm.completionSizeLimit.$dirty || ls.domainPatternForm.attempted)}">
          <label class="control-label" for="completionSizeLimit">
            {{'P_Domains-DomainPatterns_CompletionSizeLimitLabel' | i18n}}
          </label>
          <div class="controls">
            <input id="completionSizeLimit" name="completionSizeLimit" type="text" class="input-xlarge" required
                   x-ng-model="domainPattern.completionSizeLimit">
            <p class="help-block">
              {{'P_Domains-DomainPatterns_CompletionSizeLimitHelp' | i18n}}
            </p>
          </div>
        </div>
      </div>
      <!-- Validation -->
      <div class="control-group">
        <div class="controls">
          <button id="delete" name="delete" type="button" class="btn btn-danger"
                  x-ng-show="state==='edit'"
                  x-ng-click="remove()">
            {{'P_Domains-DomainPatterns_Delete' | i18n}}
          </button>
          <button type="button" id="reset" name="reset" class="btn btn-warning"
                  x-ng-click="reset()">
            {{'P_Domains-DomainPatterns_Reset' | i18n}}
          </button>
          <button type="submit" id="submit" name="submit" class="btn btn-success">
            {{'P_Domains-DomainPatterns_Submit' | i18n}}
          </button>
        </div>
      </div>
    </fieldset>
  </form>
