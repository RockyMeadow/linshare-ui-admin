<form name="ldapConnectionEditForm" class="form-horizontal" x-ng-hide="hideForm" x-ls-form-submit="submit(ldapConnection)" x-ls-form-attempt novalidate>
  <fieldset>
    <!-- Legend -->
    <div x-ng-switch on="creation">
      <div x-ng-switch-when="true">
        <legend>{{'P_Domains-LDAPConnections_CreationTitle' | i18n}}</legend>
        <!-- Identifier -->
        <div class="control-group"
             ng-class="{error: ldapConnectionEditForm.identifier.$invalid &&
             (ldapConnectionEditForm.identifier.$dirty || ls.ldapConnectionEditForm.attempted)}">
          <label class="control-label" for="identifier">{{'P_Domains-LDAPConnections_IdentifierLabel' | i18n}}</label>
          <div class="controls">
            <input id="identifier" name="identifier" type="text" x-ng-model="ldapConnection.identifier"
            class="input-xlarge" required>
          </div>
        </div>
      </div>
      <legend x-ng-switch-default>{{ldapConnection.identifier}}</legend>
    </div>
    <!-- Provider URL -->
    <div class="control-group">
      <label class="control-label" for="providerURL">{{'P_Domains-LDAPConnections_ProviderURLLabel' | i18n}}</label>
      <div class="controls">
        <input id="providerURL" name="providerURL" type="text" x-ng-model="ldapConnection.providerUrl"
        class="input-xlarge" required>
        <p class="help-block">{{'P_Domains-LDAPConnections_ProviderURLHelp' | i18n}}</p>
      </div>
    </div>
    <!-- Security Principal -->
    <div class="control-group">
      <label class="control-label" for="securityPrincipal">{{'P_Domains-LDAPConnections_SecurityPrincipalLabel' | i18n}}</label>
      <div class="controls">
        <input id="securityPrincipal" name="securityPrincipal" type="text" x-ng-model="ldapConnection.securityPrincipal"
        class="input-xlarge">
        <p class="help-block">{{'P_Domains-LDAPConnections_SecurityPrincipalHelp' | i18n}}</p>
      </div>
    </div>
    <!-- Security Credentials -->
    <div class="control-group">
      <label class="control-label" for="securityCredentials">{{'P_Domains-LDAPConnections_SecurityCredentialsLabel' | i18n}}</label>
      <div class="controls">
        <input id="securityCredentials" name="securityCredentials" type="text" x-ng-model="ldapConnection.securityCredentials"
        class="input-xlarge">
        <p class="help-block">{{'P_Domains-LDAPConnections_SecurityCredentialsHelp' | i18n}}</p>
      </div>
    </div>
    <!-- Validation -->
    <div class="control-group">
      <div class="controls">
        <button type="button" id="delete" name="delete" class="btn btn-danger" x-ng-show="!creation" x-ng-click="confirmCollapsed = !confirmCollapsed">{{'P_Domains-LDAPConnections_Delete' | i18n}}</button>
        <button type="button" id="reset" name="reset" class="btn btn-warning" x-ng-click="reset()">{{'P_Domains-LDAPConnections_Reset' | i18n}}</button>
        <button type="submit" id="submit" name="submit"
        class="btn btn-success">{{'P_Domains-LDAPConnections_Submit' | i18n}}</button>
      </div>
    </div>
    <div class="control-group" x-collapse="confirmCollapsed">
      <div class="controls well">
        <div x-ng-bind-html-unsafe="'P_Domains-LDAPConnections_ConfirmDeleteText' | i18n"></div>
        <button type="button" class="btn" x-ng-click="confirmCollapsed = !confirmCollapsed">{{'P_Domains-LDAPConnections_ConfirmDeleteNo' | i18n}}</button>
        <button type="button" class="btn btn-danger" x-ng-click="delete(ldapConnection)">{{'P_Domains-LDAPConnections_ConfirmDeleteYes' | i18n}}</button>
      </div> 
    </div>
  </fieldset>
</form>
