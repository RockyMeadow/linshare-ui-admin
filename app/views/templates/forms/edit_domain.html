<form novalidate class="span7 form-horizontal" data-ng-show="showForm">
  <fieldset>
    <!-- Legend -->
    <h4><legend>{{domain.label}}</legend></h4>
    
    <!-- Name -->
    <div class="control-group">
      <label class="control-label" for="name">{{'P_Domains-Management_NameLabel' | i18n}}</label>
      <div class="controls">
        <textarea id="name" name="name" class="input-xlarge" data-ng-model="domain.label"></textarea>
      </div>
    </div>
    
    <!-- Description -->
    <div class="control-group">
      <label class="control-label" for="description">{{'P_Domains-Management_DescriptionLabel' | i18n}}</label>
      <div class="controls">
        <textarea id="description" name="description" class="input-xlarge" data-ng-model="domain.description"></textarea>
      </div>
    </div>

    <!-- Locale -->
    <div class="control-group">
      <label class="control-label" for="locale">{{'P_Domains-Management_LocaleLabel' | i18n}}</label>
      <div class="controls">
      <select id="locale" name="locale" class="input-xlarge" data-ng-model="domain.locale" data-ng-options="l for l in locales">
        </select>
      </div>
    </div>

    <!-- User role -->
    <div class="control-group" data-ng-show="domain.type!='GUESTDOMAIN'">
      <label class="control-label" for="userRole">{{'P_Domains-Management_UserRoleLabel' | i18n}}</label>
      <div class="controls">
        <select id="userRole" name="userRole" class="input-xlarge" data-ng-model="domain.userRole" data-ng-options="u for u in userRoles">
        </select>
      </div>
    </div>

    <!-- Policy -->
    <div class="control-group">
      <label class="control-label" for="policy">{{'P_Domains-Management_PolicyLabel' | i18n}}</label>
      <div class="controls">
        <select id="policy" name="policy" class="input-xlarge" data-ng-model="domain.policy.identifier" data-ng-options="p for p in domainPolicies">
        </select>
      </div>
    </div>

    <div class="btn-toolbar" data-ng-show="domain.type!='GUESTDOMAIN'">
      <button class="btn" data-ng-disabled="disableProvider" data-ng-click="addProvider()"><i class="icon-plus"></i> {{'P_Domains-Management_AddProvider' | i18n}}</button>
    </div>
    <!-- Provider Form -->
    <div class="well" style="max-width: 600px; margin: 0 auto 10px;" data-ng-repeat="provider in domain.providers">
      <button type="button" class="close" data-ng-click="deleteProvider()" aria-hidden="true">&times;</button>
      <h4>{{'P_Domains-Management_UserProvider' | i18n}}</h4>
      <!-- LDAP Connection -->
      <div class="control-group">
        <label class="control-label" for="ldapConnection">{{'P_Domains-Management_LDAPConnectionLabel' | i18n}}</label>
        <div class="controls">
          <select id="ldapConnection" name="ldapConnection" class="input-xlarge" data-ng-model="provider.ldapConnectionId" data-ng-options="l for l in ldapConnections">
          </select>
          <p class="help-block">{{'P_Domains-Management_LDAPConnectionHelp' | i18n}}</p>
        </div>
      </div>
      <!-- Domain Pattern -->
      <div class="control-group">
        <label class="control-label" for="domainPattern">{{'P_Domains-Management_DomainPatternLabel' | i18n}}</label>
        <div class="controls">
          <select id="domainPattern" name="domainPattern" class="input-xlarge" data-ng-model="provider.domainPatternId" data-ng-options="d for d in domainPatterns">
          </select>
          <p class="help-block">{{'P_Domains-Management_DomainPatternHelp' | i18n}}</p>
        </div>
      </div>
      <!-- Base Dn -->
      <div class="control-group">
        <label class="control-label" for="baseDn">{{'P_Domains-Management_BaseDnLabel' | i18n}}</label>
        <div class="controls">
          <input id="baseDn" name="baseDn" type="text" data-ng-model="provider.baseDn"
          class="input-xlarge">
          <p class="help-block">{{'P_Domains-Management_BaseDnHelp' | i18n}}</p>
        </div>
      </div>
    </div>

    <!-- Validation -->
    <div class="control-group">
      <div class="controls">
        <button id="delete" name="delete" class="btn btn-danger" data-ng-click="confirmDelete = !confirmDelete">{{'P_Domains-Management_Delete' | i18n}}</button>
        <button id="reset" name="reset" class="btn btn-warning" data-ng-click="reset()">{{'P_Domains-Management_Reset' | i18n}}</button>
        <button id="submit" name="submit"
        class="btn btn-success" data-ng-click="submit(domain)">{{'P_Domains-Management_Submit' | i18n}}</button>
      </div>
    </div>
    <div class="control-group" data-collapse="confirmDelete">
      <div class="controls well">
        <div data-ng-bind-html-unsafe="'P_Domains-Management_ConfirmDeleteText' | i18n"></div>
        <button class="btn"  data-ng-click="confirmDelete = !confirmDelete">{{'P_Domains-Management_ConfirmDeleteNo' | i18n}}</button>
        <button class="btn btn-danger" data-ng-click="delete(domain)">{{'P_Domains-Management_ConfirmDeleteYes' | i18n}}</button>
      </div> 
    </div>
  </fieldset>
</form>
